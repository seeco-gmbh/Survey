{"ast":null,"code":"var _jsxFileName = \"/Users/pascalseeber/Desktop/survey-process-intelligence-main/src/components/questions/RankedQuestion.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport BaseQuestion, { isError } from './BaseQuestion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DragIndicator = ({\n  position,\n  isDraggingInComponent,\n  setDragPosition,\n  handleReordering\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"h-1 my-1 bg-blue-600 rounded-full shadow-md animate-pulse cursor-pointer\",\n  style: {\n    zIndex: 10\n  },\n  onDragOver: e => {\n    if (!isDraggingInComponent) return;\n    e.preventDefault();\n    e.stopPropagation();\n    e.dataTransfer.dropEffect = 'move';\n    setDragPosition(position);\n  },\n  onDrop: e => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!isDraggingInComponent) return;\n    const sourceIndex = parseInt(e.dataTransfer.getData('sourceIndex'));\n    if (isNaN(sourceIndex)) return;\n    handleReordering(sourceIndex, position);\n  }\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 5,\n  columnNumber: 3\n}, this);\n_c = DragIndicator;\nconst RankedQuestion = ({\n  question,\n  shouldValidate = false,\n  value = [],\n  onChange,\n  language,\n  isModified = false\n}) => {\n  _s();\n  const {\n    hasError\n  } = isError(question, value, shouldValidate, language);\n  const questionId = useRef(`ranked-question-${question.id}`);\n  const [ranking, setRanking] = useState(value.length ? value : [...question.options]);\n  const [dragPosition, setDragPosition] = useState(-1);\n  const [draggedItem, setDraggedItem] = useState(-1);\n  const containerRef = useRef(null);\n  const [isDraggingInComponent, setIsDraggingInComponent] = useState(false);\n  const [hasBeenModified, setHasBeenModified] = useState(isModified);\n  useEffect(() => {\n    if (value.length && JSON.stringify(value) !== JSON.stringify(ranking)) {\n      setRanking(value);\n    } else if (question.options.length && !value.length && JSON.stringify(question.options) !== JSON.stringify(ranking)) {\n      setRanking([...question.options]);\n    }\n  }, [value, question.options]);\n  const handleReordering = (sourceIndex, targetPosition) => {\n    if (sourceIndex === targetPosition || sourceIndex === targetPosition - 1 && targetPosition > 0) {\n      return false;\n    }\n    const newRanking = [...ranking];\n    const [movedItem] = newRanking.splice(sourceIndex, 1);\n    let targetIndex = targetPosition;\n    if (sourceIndex < targetPosition) {\n      targetIndex--;\n    }\n    newRanking.splice(targetIndex, 0, movedItem);\n    setRanking(newRanking);\n    onChange(question.id, newRanking, true);\n    setHasBeenModified(true);\n    return true;\n  };\n  const resetDragStates = () => {\n    setDragPosition(-1);\n    setDraggedItem(-1);\n    setIsDraggingInComponent(false);\n  };\n  useEffect(() => {\n    const handleDragOver = e => {\n      if (!isDraggingInComponent) return;\n      if (containerRef.current && !containerRef.current.contains(e.target)) {\n        e.preventDefault();\n        e.dataTransfer.dropEffect = 'none';\n      }\n    };\n    const handleDragEnd = () => {\n      resetDragStates();\n    };\n    document.addEventListener('dragover', handleDragOver);\n    document.addEventListener('dragend', handleDragEnd);\n    return () => {\n      document.removeEventListener('dragover', handleDragOver);\n      document.removeEventListener('dragend', handleDragEnd);\n    };\n  }, [isDraggingInComponent]);\n  return /*#__PURE__*/_jsxDEV(BaseQuestion, {\n    question: question,\n    shouldValidate: shouldValidate,\n    language: language,\n    value: ranking,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      className: `p-4 container-base ${hasError ? 'container-error' : ''}`,\n      onDragOver: e => {\n        if (!isDraggingInComponent) return;\n        e.preventDefault();\n        e.dataTransfer.dropEffect = 'move';\n      },\n      onDragEnter: e => {\n        e.preventDefault();\n        setIsDraggingInComponent(true);\n      },\n      onDragLeave: e => {\n        if (containerRef.current && !containerRef.current.contains(e.relatedTarget)) {\n          resetDragStates();\n        }\n      },\n      onDrop: e => {\n        e.preventDefault();\n        resetDragStates();\n      },\n      \"aria-invalid\": hasError,\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-1\",\n        children: ranking.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [dragPosition === 0 && index === 0 && /*#__PURE__*/_jsxDEV(DragIndicator, {\n            position: 0,\n            isDraggingInComponent: isDraggingInComponent,\n            setDragPosition: setDragPosition,\n            handleReordering: handleReordering\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex items-center p-2 bg-white border rounded cursor-move hover:bg-gray-50 ${dragPosition === index ? 'border-blue-400' : 'border-gray-200'} ${draggedItem === index ? 'opacity-50' : ''}`,\n            draggable: \"true\",\n            onDragStart: e => {\n              e.dataTransfer.setData('text/plain', ''); // For Firefox compatibility\n              e.dataTransfer.setData('sourceIndex', index.toString());\n              e.dataTransfer.setData('questionId', questionId.current);\n              e.dataTransfer.effectAllowed = 'move';\n              try {\n                e.dataTransfer.setDragImage(e.currentTarget, e.currentTarget.offsetWidth / 2, e.currentTarget.offsetHeight / 2);\n              } catch (err) {\n                console.warn('Failed to set drag image:', err);\n              }\n              setIsDraggingInComponent(true);\n              setDraggedItem(index);\n              if (!hasBeenModified) {\n                setHasBeenModified(true);\n                onChange(question.id, ranking, true);\n              }\n            },\n            onDragEnd: () => {\n              resetDragStates();\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"flex-grow\",\n              children: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this), dragPosition === index + 1 && /*#__PURE__*/_jsxDEV(DragIndicator, {\n            position: index + 1,\n            isDraggingInComponent: isDraggingInComponent,\n            setDragPosition: setDragPosition,\n            handleReordering: handleReordering\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 17\n          }, this)]\n        }, `${item}-${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n};\n_s(RankedQuestion, \"HYnr+JRdxBPgTUD+nbWtJWuCqVU=\");\n_c2 = RankedQuestion;\nexport default RankedQuestion;\nvar _c, _c2;\n$RefreshReg$(_c, \"DragIndicator\");\n$RefreshReg$(_c2, \"RankedQuestion\");","map":{"version":3,"names":["React","useState","useEffect","useRef","BaseQuestion","isError","jsxDEV","_jsxDEV","DragIndicator","position","isDraggingInComponent","setDragPosition","handleReordering","className","style","zIndex","onDragOver","e","preventDefault","stopPropagation","dataTransfer","dropEffect","onDrop","sourceIndex","parseInt","getData","isNaN","fileName","_jsxFileName","lineNumber","columnNumber","_c","RankedQuestion","question","shouldValidate","value","onChange","language","isModified","_s","hasError","questionId","id","ranking","setRanking","length","options","dragPosition","draggedItem","setDraggedItem","containerRef","setIsDraggingInComponent","hasBeenModified","setHasBeenModified","JSON","stringify","targetPosition","newRanking","movedItem","splice","targetIndex","resetDragStates","handleDragOver","current","contains","target","handleDragEnd","document","addEventListener","removeEventListener","children","ref","onDragEnter","onDragLeave","relatedTarget","map","item","index","draggable","onDragStart","setData","toString","effectAllowed","setDragImage","currentTarget","offsetWidth","offsetHeight","err","console","warn","onDragEnd","_c2","$RefreshReg$"],"sources":["/Users/pascalseeber/Desktop/survey-process-intelligence-main/src/components/questions/RankedQuestion.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport BaseQuestion, { isError } from './BaseQuestion';\n\nconst DragIndicator = ({ position, isDraggingInComponent, setDragPosition, handleReordering }) => (\n  <div \n    className=\"h-1 my-1 bg-blue-600 rounded-full shadow-md animate-pulse cursor-pointer\"\n    style={{ zIndex: 10 }}\n    onDragOver={(e) => {\n      if (!isDraggingInComponent) return;\n      e.preventDefault();\n      e.stopPropagation();\n      e.dataTransfer.dropEffect = 'move';\n      setDragPosition(position);\n    }}\n    onDrop={(e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      \n      if (!isDraggingInComponent) return;\n      \n      const sourceIndex = parseInt(e.dataTransfer.getData('sourceIndex'));\n      if (isNaN(sourceIndex)) return;\n      \n      handleReordering(sourceIndex, position);\n    }}\n  />\n);\n\nconst RankedQuestion = ({ \n  question, \n  shouldValidate = false, \n  value = [], \n  onChange, \n  language, \n  isModified = false\n}) => {\n  const { hasError } = isError(question, value, shouldValidate, language);\n  const questionId = useRef(`ranked-question-${question.id}`);\n  const [ranking, setRanking] = useState(value.length ? value : [...question.options]);\n  const [dragPosition, setDragPosition] = useState(-1);\n  const [draggedItem, setDraggedItem] = useState(-1);\n  const containerRef = useRef(null);\n  const [isDraggingInComponent, setIsDraggingInComponent] = useState(false);\n  const [hasBeenModified, setHasBeenModified] = useState(isModified);\n  \n  useEffect(() => {\n    if (value.length && JSON.stringify(value) !== JSON.stringify(ranking)) {\n      setRanking(value);\n    } else if (question.options.length && !value.length && JSON.stringify(question.options) !== JSON.stringify(ranking)) {\n      setRanking([...question.options]);\n    }\n  }, [value, question.options]);\n\n  const handleReordering = (sourceIndex, targetPosition) => {\n    if (sourceIndex === targetPosition || \n        (sourceIndex === targetPosition - 1 && targetPosition > 0)) {\n      return false;\n    }\n    \n    const newRanking = [...ranking];\n    const [movedItem] = newRanking.splice(sourceIndex, 1);\n    \n    let targetIndex = targetPosition;\n    if (sourceIndex < targetPosition) {\n      targetIndex--;\n    }\n    \n    newRanking.splice(targetIndex, 0, movedItem);\n    \n    setRanking(newRanking);\n    onChange(question.id, newRanking, true);\n    setHasBeenModified(true);\n    return true;\n  };\n\n  const resetDragStates = () => {\n    setDragPosition(-1);\n    setDraggedItem(-1);\n    setIsDraggingInComponent(false);\n  };\n\n  useEffect(() => {\n    const handleDragOver = (e) => {\n      if (!isDraggingInComponent) return;\n      \n      if (containerRef.current && !containerRef.current.contains(e.target)) {\n        e.preventDefault();\n        e.dataTransfer.dropEffect = 'none';\n      }\n    };\n    \n    const handleDragEnd = () => {\n      resetDragStates();\n    };\n    \n    document.addEventListener('dragover', handleDragOver);\n    document.addEventListener('dragend', handleDragEnd);\n    \n    return () => {\n      document.removeEventListener('dragover', handleDragOver);\n      document.removeEventListener('dragend', handleDragEnd);\n    };\n  }, [isDraggingInComponent]);\n\n  return (\n    <BaseQuestion \n      question={question} \n      shouldValidate={shouldValidate} \n      language={language}\n      value={ranking}\n    >\n      <div \n        ref={containerRef}\n        className={`p-4 container-base ${hasError ? 'container-error' : ''}`}\n        onDragOver={(e) => {\n          if (!isDraggingInComponent) return;\n          e.preventDefault();\n          e.dataTransfer.dropEffect = 'move';\n        }}\n        onDragEnter={(e) => {\n          e.preventDefault();\n          setIsDraggingInComponent(true);\n        }}\n        onDragLeave={(e) => {\n          if (containerRef.current && !containerRef.current.contains(e.relatedTarget)) {\n            resetDragStates();\n          }\n        }}\n        onDrop={(e) => {\n          e.preventDefault();\n          resetDragStates();\n        }}\n        aria-invalid={hasError}\n      >\n        <ul className=\"space-y-1\">\n          {ranking.map((item, index) => (\n            <li key={`${item}-${index}`}>\n              {dragPosition === 0 && index === 0 && (\n                <DragIndicator \n                  position={0}\n                  isDraggingInComponent={isDraggingInComponent}\n                  setDragPosition={setDragPosition}\n                  handleReordering={handleReordering}\n                />\n              )}\n\n              <div \n                className={`flex items-center p-2 bg-white border rounded cursor-move hover:bg-gray-50 ${\n                  dragPosition === index ? 'border-blue-400' : 'border-gray-200'\n                } ${draggedItem === index ? 'opacity-50' : ''}`}\n                draggable=\"true\"\n                onDragStart={(e) => {\n                  e.dataTransfer.setData('text/plain', ''); // For Firefox compatibility\n                  e.dataTransfer.setData('sourceIndex', index.toString());\n                  e.dataTransfer.setData('questionId', questionId.current);\n                  e.dataTransfer.effectAllowed = 'move';                 \n                  \n                  try {\n                    e.dataTransfer.setDragImage(\n                      e.currentTarget, \n                      e.currentTarget.offsetWidth / 2, \n                      e.currentTarget.offsetHeight / 2\n                    );\n                  } catch (err) {\n                    console.warn('Failed to set drag image:', err);\n                  }\n                  \n                  setIsDraggingInComponent(true);\n                  setDraggedItem(index);\n                  \n                  if (!hasBeenModified) {\n                    setHasBeenModified(true);\n                    onChange(question.id, ranking, true);\n                  }\n                }}\n                onDragEnd={() => {\n                  resetDragStates();\n                }}\n              >\n                <span className=\"flex-grow\">{item}</span>\n              </div>\n\n              {dragPosition === index + 1 && (\n                <DragIndicator \n                  position={index + 1}\n                  isDraggingInComponent={isDraggingInComponent}\n                  setDragPosition={setDragPosition}\n                  handleReordering={handleReordering}\n                />\n              )}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </BaseQuestion>\n  );\n};\n\nexport default RankedQuestion; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}