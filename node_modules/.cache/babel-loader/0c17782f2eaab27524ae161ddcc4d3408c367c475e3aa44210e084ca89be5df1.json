{"ast":null,"code":"var _jsxFileName = \"/Users/pascalseeber/Desktop/survey-process-intelligence-main/src/components/questions/RankedQuestion.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport QuestionElement from './BaseQuestion';\nimport { t } from '../../localization';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DragIndicator = ({\n  position,\n  index,\n  isDraggingInComponent,\n  setDragPosition,\n  handleReordering\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"h-1 my-1 bg-blue-600 rounded-full shadow-md animate-pulse cursor-pointer\",\n  style: {\n    zIndex: 10\n  },\n  onDragOver: e => {\n    if (!isDraggingInComponent) return;\n    e.preventDefault();\n    e.stopPropagation();\n    e.dataTransfer.dropEffect = 'move';\n    setDragPosition(position);\n  },\n  onDrop: e => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!isDraggingInComponent) return;\n    const sourceIndex = parseInt(e.dataTransfer.getData('sourceIndex'));\n    if (isNaN(sourceIndex)) return;\n    handleReordering(sourceIndex, position);\n    setDragPosition(-1);\n  }\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 6,\n  columnNumber: 3\n}, this);\n_c = DragIndicator;\nconst RankedQuestion = ({\n  question,\n  isError,\n  value = [],\n  onChange,\n  language,\n  isModified = false,\n  validationMessage\n}) => {\n  _s();\n  const questionId = useRef(`ranked-question-${question.id}`);\n  const [ranking, setRanking] = useState(value.length ? value : [...question.options]);\n  const [dragPosition, setDragPosition] = useState(-1);\n  const [draggedItem, setDraggedItem] = useState(-1);\n  const containerRef = useRef(null);\n  const [isDraggingInComponent, setIsDraggingInComponent] = useState(false);\n  useEffect(() => {\n    if (value.length && JSON.stringify(value) !== JSON.stringify(ranking)) {\n      setRanking(value);\n    } else if (question.options.length && !value.length && JSON.stringify(question.options) !== JSON.stringify(ranking)) {\n      setRanking([...question.options]);\n    }\n  }, [value, question.options, ranking]);\n  const handleReordering = (sourceIndex, targetPosition) => {\n    if (sourceIndex === targetPosition || sourceIndex === targetPosition - 1 && targetPosition > 0) {\n      return false;\n    }\n    const newRanking = [...ranking];\n    const [movedItem] = newRanking.splice(sourceIndex, 1);\n    let targetIndex = targetPosition;\n    if (sourceIndex < targetPosition) {\n      targetIndex--;\n    }\n    newRanking.splice(targetIndex, 0, movedItem);\n    setRanking(newRanking);\n    onChange(question.id, newRanking, true);\n    return true;\n  };\n  const resetDragStates = () => {\n    setDragPosition(-1);\n    setDraggedItem(-1);\n    setIsDraggingInComponent(false);\n  };\n  useEffect(() => {\n    const handleDragOver = e => {\n      if (!isDraggingInComponent) return;\n      if (containerRef.current && !containerRef.current.contains(e.target)) {\n        e.preventDefault();\n        e.dataTransfer.dropEffect = 'none';\n      }\n    };\n    document.addEventListener('dragover', handleDragOver);\n    return () => {\n      document.removeEventListener('dragover', handleDragOver);\n    };\n  }, [isDraggingInComponent]);\n  return /*#__PURE__*/_jsxDEV(QuestionElement, {\n    question: question,\n    isError: isError,\n    language: language,\n    value: ranking,\n    validationMessage: validationMessage,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      className: `p-3 border rounded ${isError ? 'border-red-500' : 'border-gray-300'} relative`,\n      onDragOver: e => {\n        if (!isDraggingInComponent) return;\n        e.preventDefault();\n        e.dataTransfer.dropEffect = 'move';\n        const rect = e.currentTarget.getBoundingClientRect();\n        const mouseY = e.clientY;\n        const firstItem = e.currentTarget.querySelector('li:first-child div');\n        const firstItemTop = firstItem ? firstItem.getBoundingClientRect().top : rect.top + 30;\n        if (mouseY < firstItemTop - 5) {\n          setDragPosition(0);\n          return;\n        }\n        if (mouseY > rect.bottom - 20) {\n          setDragPosition(ranking.length);\n          return;\n        }\n      },\n      onDrop: e => {\n        e.preventDefault();\n        if (!isDraggingInComponent) return;\n        const sourceIndex = parseInt(e.dataTransfer.getData('sourceIndex'));\n        if (isNaN(sourceIndex)) return;\n        if (dragPosition >= 0) {\n          handleReordering(sourceIndex, dragPosition);\n        }\n        resetDragStates();\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-1\",\n        children: ranking.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [dragPosition === 0 && index === 0 && /*#__PURE__*/_jsxDEV(DragIndicator, {\n            position: 0,\n            index: index,\n            isDraggingInComponent: isDraggingInComponent,\n            setDragPosition: setDragPosition,\n            handleReordering: (sourceIndex, position) => {\n              handleReordering(sourceIndex, position);\n              resetDragStates();\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex items-center p-2 bg-white border rounded cursor-move hover:bg-gray-50 ${dragPosition === index ? 'border-blue-400' : 'border-gray-200'} ${draggedItem === index ? 'opacity-50' : ''}`,\n            draggable: true,\n            onDragStart: e => {\n              e.dataTransfer.setData('sourceIndex', index.toString());\n              e.dataTransfer.setData('questionId', questionId.current);\n              e.dataTransfer.effectAllowed = 'move';\n              e.dataTransfer.setDragImage(e.currentTarget, e.currentTarget.offsetWidth / 2, e.currentTarget.offsetHeight / 2);\n              setIsDraggingInComponent(true);\n              setDraggedItem(index);\n            },\n            onDragEnd: resetDragStates,\n            onDragOver: e => {\n              if (!isDraggingInComponent) return;\n              e.preventDefault();\n              e.stopPropagation();\n              const rect = e.currentTarget.getBoundingClientRect();\n              const mouseY = e.clientY;\n              const midpoint = rect.top + rect.height / 2;\n              setDragPosition(mouseY < midpoint ? index : index + 1);\n            },\n            onDrop: e => {\n              e.preventDefault();\n              e.stopPropagation();\n              if (!isDraggingInComponent) return;\n              const sourceIndex = parseInt(e.dataTransfer.getData('sourceIndex'));\n              if (isNaN(sourceIndex)) return;\n              const rect = e.currentTarget.getBoundingClientRect();\n              const mouseY = e.clientY;\n              const midpoint = rect.top + rect.height / 2;\n              const targetPosition = mouseY < midpoint ? index : index + 1;\n              handleReordering(sourceIndex, targetPosition);\n              resetDragStates();\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 mr-2 text-gray-400\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-5 w-5\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M4 6h16M4 12h16M4 18h16\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this), isModified && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 w-6 h-6 flex items-center justify-center bg-gray-200 rounded-full mr-2\",\n              children: index + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-grow\",\n              children: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 15\n          }, this), dragPosition === index + 1 && /*#__PURE__*/_jsxDEV(DragIndicator, {\n            position: index + 1,\n            index: index,\n            isDraggingInComponent: isDraggingInComponent,\n            setDragPosition: setDragPosition,\n            handleReordering: (sourceIndex, position) => {\n              handleReordering(sourceIndex, position);\n              resetDragStates();\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 17\n          }, this)]\n        }, item, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), ranking.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 text-center text-gray-500 italic\",\n        children: t('emptyRankedList', language) || 'Drag items here'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n_s(RankedQuestion, \"XsIHFy5vGRmuULxDVVVzFILCvwA=\");\n_c2 = RankedQuestion;\nexport default RankedQuestion;\nvar _c, _c2;\n$RefreshReg$(_c, \"DragIndicator\");\n$RefreshReg$(_c2, \"RankedQuestion\");","map":{"version":3,"names":["React","useState","useEffect","useRef","QuestionElement","t","jsxDEV","_jsxDEV","DragIndicator","position","index","isDraggingInComponent","setDragPosition","handleReordering","className","style","zIndex","onDragOver","e","preventDefault","stopPropagation","dataTransfer","dropEffect","onDrop","sourceIndex","parseInt","getData","isNaN","fileName","_jsxFileName","lineNumber","columnNumber","_c","RankedQuestion","question","isError","value","onChange","language","isModified","validationMessage","_s","questionId","id","ranking","setRanking","length","options","dragPosition","draggedItem","setDraggedItem","containerRef","setIsDraggingInComponent","JSON","stringify","targetPosition","newRanking","movedItem","splice","targetIndex","resetDragStates","handleDragOver","current","contains","target","document","addEventListener","removeEventListener","children","ref","rect","currentTarget","getBoundingClientRect","mouseY","clientY","firstItem","querySelector","firstItemTop","top","bottom","map","item","draggable","onDragStart","setData","toString","effectAllowed","setDragImage","offsetWidth","offsetHeight","onDragEnd","midpoint","height","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","_c2","$RefreshReg$"],"sources":["/Users/pascalseeber/Desktop/survey-process-intelligence-main/src/components/questions/RankedQuestion.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport QuestionElement from './BaseQuestion';\nimport { t } from '../../localization';\n\nconst DragIndicator = ({ position, index, isDraggingInComponent, setDragPosition, handleReordering }) => (\n  <div \n    className=\"h-1 my-1 bg-blue-600 rounded-full shadow-md animate-pulse cursor-pointer\"\n    style={{ zIndex: 10 }}\n    onDragOver={(e) => {\n      if (!isDraggingInComponent) return;\n      \n      e.preventDefault();\n      e.stopPropagation();\n      e.dataTransfer.dropEffect = 'move';\n      setDragPosition(position);\n    }}\n    onDrop={(e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      \n      if (!isDraggingInComponent) return;\n      \n      const sourceIndex = parseInt(e.dataTransfer.getData('sourceIndex'));\n      if (isNaN(sourceIndex)) return;\n      \n      handleReordering(sourceIndex, position);\n      setDragPosition(-1);\n    }}\n  />\n);\n\nconst RankedQuestion = ({ \n  question, \n  isError, \n  value = [], \n  onChange, \n  language, \n  isModified = false,\n  validationMessage\n}) => {\n  const questionId = useRef(`ranked-question-${question.id}`);\n  const [ranking, setRanking] = useState(value.length ? value : [...question.options]);\n  const [dragPosition, setDragPosition] = useState(-1);\n  const [draggedItem, setDraggedItem] = useState(-1);\n  const containerRef = useRef(null);\n  const [isDraggingInComponent, setIsDraggingInComponent] = useState(false);\n  \n  useEffect(() => {\n    if (value.length && JSON.stringify(value) !== JSON.stringify(ranking)) {\n      setRanking(value);\n    } else if (question.options.length && !value.length && JSON.stringify(question.options) !== JSON.stringify(ranking)) {\n      setRanking([...question.options]);\n    }\n  }, [value, question.options, ranking]);\n\n  const handleReordering = (sourceIndex, targetPosition) => {\n    if (sourceIndex === targetPosition || \n        (sourceIndex === targetPosition - 1 && targetPosition > 0)) {\n      return false;\n    }\n    \n    const newRanking = [...ranking];\n    const [movedItem] = newRanking.splice(sourceIndex, 1);\n    \n    let targetIndex = targetPosition;\n    if (sourceIndex < targetPosition) {\n      targetIndex--;\n    }\n    \n    newRanking.splice(targetIndex, 0, movedItem);\n    \n    setRanking(newRanking);\n    onChange(question.id, newRanking, true);\n    return true;\n  };\n\n  const resetDragStates = () => {\n    setDragPosition(-1);\n    setDraggedItem(-1);\n    setIsDraggingInComponent(false);\n  };\n\n  useEffect(() => {\n    const handleDragOver = (e) => {\n      if (!isDraggingInComponent) return;\n      \n      if (containerRef.current && !containerRef.current.contains(e.target)) {\n        e.preventDefault();\n        e.dataTransfer.dropEffect = 'none';\n      }\n    };\n    \n    document.addEventListener('dragover', handleDragOver);\n    return () => {\n      document.removeEventListener('dragover', handleDragOver);\n    };\n  }, [isDraggingInComponent]);\n\n  return (\n    <QuestionElement \n      question={question} \n      isError={isError} \n      language={language}\n      value={ranking}\n      validationMessage={validationMessage}\n    >\n      <div \n        ref={containerRef}\n        className={`p-3 border rounded ${isError ? 'border-red-500' : 'border-gray-300'} relative`}\n        onDragOver={(e) => {\n          if (!isDraggingInComponent) return;\n          \n          e.preventDefault();\n          e.dataTransfer.dropEffect = 'move';\n          \n          const rect = e.currentTarget.getBoundingClientRect();\n          const mouseY = e.clientY;\n          \n          const firstItem = e.currentTarget.querySelector('li:first-child div');\n          const firstItemTop = firstItem ? firstItem.getBoundingClientRect().top : rect.top + 30;\n          \n          if (mouseY < firstItemTop - 5) {\n            setDragPosition(0);\n            return;\n          }\n          \n          if (mouseY > rect.bottom - 20) {\n            setDragPosition(ranking.length);\n            return;\n          }\n        }}\n        onDrop={(e) => {\n          e.preventDefault();\n          \n          if (!isDraggingInComponent) return;\n          \n          const sourceIndex = parseInt(e.dataTransfer.getData('sourceIndex'));\n          if (isNaN(sourceIndex)) return;\n          \n          if (dragPosition >= 0) {\n            handleReordering(sourceIndex, dragPosition);\n          }\n          \n          resetDragStates();\n        }}\n      >\n        <ul className=\"space-y-1\">\n          {ranking.map((item, index) => (\n            <li key={item}>\n              {dragPosition === 0 && index === 0 && (\n                <DragIndicator \n                  position={0}\n                  index={index}\n                  isDraggingInComponent={isDraggingInComponent}\n                  setDragPosition={setDragPosition}\n                  handleReordering={(sourceIndex, position) => {\n                    handleReordering(sourceIndex, position);\n                    resetDragStates();\n                  }}\n                />\n              )}\n\n              <div \n                className={`flex items-center p-2 bg-white border rounded cursor-move hover:bg-gray-50 ${\n                  dragPosition === index ? 'border-blue-400' : 'border-gray-200'\n                } ${draggedItem === index ? 'opacity-50' : ''}`}\n                draggable\n                onDragStart={(e) => {\n                  e.dataTransfer.setData('sourceIndex', index.toString());\n                  e.dataTransfer.setData('questionId', questionId.current);\n                  e.dataTransfer.effectAllowed = 'move';                 \n                  e.dataTransfer.setDragImage(\n                    e.currentTarget, \n                    e.currentTarget.offsetWidth / 2, \n                    e.currentTarget.offsetHeight / 2\n                  );\n                  \n                  setIsDraggingInComponent(true);\n                  setDraggedItem(index);\n                }}\n                onDragEnd={resetDragStates}\n                onDragOver={(e) => {\n                  if (!isDraggingInComponent) return;\n                  \n                  e.preventDefault();\n                  e.stopPropagation();\n                  \n                  const rect = e.currentTarget.getBoundingClientRect();\n                  const mouseY = e.clientY;\n                  const midpoint = rect.top + rect.height / 2;\n                  \n                  setDragPosition(mouseY < midpoint ? index : index + 1);\n                }}\n                onDrop={(e) => {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  \n                  if (!isDraggingInComponent) return;\n                  \n                  const sourceIndex = parseInt(e.dataTransfer.getData('sourceIndex'));\n                  if (isNaN(sourceIndex)) return;\n                  \n                  const rect = e.currentTarget.getBoundingClientRect();\n                  const mouseY = e.clientY;\n                  const midpoint = rect.top + rect.height / 2;\n                  const targetPosition = mouseY < midpoint ? index : index + 1;\n                  \n                  handleReordering(sourceIndex, targetPosition);\n                  resetDragStates();\n                }}\n              >\n                <div className=\"flex-shrink-0 mr-2 text-gray-400\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n                  </svg>\n                </div>\n                \n                {isModified && (\n                  <div className=\"flex-shrink-0 w-6 h-6 flex items-center justify-center bg-gray-200 rounded-full mr-2\">\n                    {index + 1}\n                  </div>\n                )}\n                \n                <div className=\"flex-grow\">{item}</div>\n              </div>\n              \n              {dragPosition === index + 1 && (\n                <DragIndicator \n                  position={index + 1}\n                  index={index}\n                  isDraggingInComponent={isDraggingInComponent}\n                  setDragPosition={setDragPosition}\n                  handleReordering={(sourceIndex, position) => {\n                    handleReordering(sourceIndex, position);\n                    resetDragStates();\n                  }}\n                />\n              )}\n            </li>\n          ))}\n        </ul>\n        \n          {ranking.length === 0 && (\n          <div className=\"p-4 text-center text-gray-500 italic\">\n            {t('emptyRankedList', language) || 'Drag items here'}\n          </div>\n        )}\n      </div>\n    </QuestionElement>\n  );\n};\n\nexport default RankedQuestion; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}